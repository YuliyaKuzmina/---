# Сценарии использования (Use Cases) 

## Сценарий 1. Вход на сайт sbermarket.ru в профиль пользователя по номеру телефона ##
**Как**: пользователь сайта sbermarket.ru  
**Цель**: войти в личный кабинет  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации.

Чтобы войти в личный кабинет:

|№|Участник|Действие|
|----|----|----|
|1|Пользователь|Вводит номер телефона, состоящий из 10 цифр, без кода +7;|
|2|Система|1. Проверяет корректность ввода, принимает данные. Если ввод согласно формату ввода - ничего не происходит|
|   |   |2. Пишет предупреждение и подсвечивает рамку поля ввода красным цветом - если номер введен не полностью|
|3|Пользователь|1. ***if 2.1*** - Нажимает кнопку "Получить код в смс"|
|  |    |2. ***if 2.2*** - Вводит номер телефона, проверяя правильность ввода|
|  |    |3. ***if 3.2***- Нажимает кнопку "Получить код в смс"
|4|Система|Отправляет смс на указанный номер телефона|
|5|Пользователь|Вводит код из смс, полученного на указанный номер телефона|
|6|Система|1. Если введен верный код - Переводит пользователя на главную страницу сайта sbermarket.ru, в профиль пользователя. **Результат достигнут**.|
| |  |2.Если код введен не верно - предупреждает об ошибке и выделяет рамку поля ввода красным цветом
|7|Пользователь|***if 6.2*** - Вводит верный код - если не истекло время ожидания ввода кода
|8|Система|Переводит пользователя на главную страницу сайта sbermarket.ru, в профиль пользователя - **Результат достигнут**.|

## Сценарий 2. Вход на сайт sbermarket.ru в профиль пользователя по номеру телефона. Time-out ##

**Как**: пользователь сайта sbermarket.ru  
**Цель**: войти в личный кабинет  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации. Истекло время ожидания ввода кода (или не пришло смс)

Чтобы войти в личный кабинет:
|№|Участник|Действие|
|---|----|-----|
|1|Пользователь|Нажимает на кнопку "отправить смс еще раз" |
|2|Система|Отправляет повторное смс c кодом на указанный номер телефона|
|3|Пользователь|Вводит код из смс, полученного на указанный номер телефона|
|4|Система|1. Если код введен верно - переводит пользователя на главную страницу сайта sbermarket.ru, в профиль пользователя. **Результат достигнут**|
|  |  |2. Если код введен не верно - предупреждает об ошибке и выделяет рамку поля ввода красным цветом
|5|Пользователь|***if 4.2*** - Вводит верный код, проверяя правильность ввода
|6|Система|Переводит пользователя на главную страницу сайта sbermarket.ru, в профиль пользователя - **Результат достигнут**.|



## Сценарий 3. Вход в профиль пользователя по Сбер ID ##
**Как**: пользователь сайта sbermarket.ru  
**Цель**: войти в личный кабинет сайта sbermarket.ru по Сбер ID  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации

Чтобы войти в личный кабинет сайта sbermarket.ru по Сбер ID :
|№|Участник|Действие|
|----|----|-----|
|1|Пользователь|Нажимает кнопку "Войти по Сбер ID|
|2|Система|Переводит пользователя на страницу Сбер ID id.sber.ru|
|3|Пользователь|Вводит номер телефона в поле ввода|
|4|Система|1.Если номер введен корректно - Ничего не происходит
|  |  |2.Если номер введен не полностью - Пишет предупреждение и подсвечивает рамку поля ввода красным цветом|
|5|Пользователь|1. ***if 4.1*** -  Нажимает кнопку "Войти или создать Сбер ID" - если номер был введен корректно|
|  |   |2. ***if 4.2*** - Вводит полный номер телефона, проверяя правильность ввода - если видит предупреждение системы
|6|Система|Переводит пользователя на страницу проверки|
|7|Пользователь|Вводит текст с картинки и нажимает кнопку "Подтвердить"|
|8|Система|1. Проверяет и принимает введенное значение. 
|  |   |2. Если значение верное - Отправляет смс на указанный номер телефона|
|   |    |3. Если значение не верное - предупреждает и "просит" ввести текст заново
|9|Пользователь|1. ***if 8.2*** - Вводит смс, полученное на указанный номер телефона И нажимает кнопку "Продолжить"|
|  |  |2. ***if 8.3*** - Обновляет проверочный текст, вводит его заново, проверяя правильность ввода, и нажимает кнопку "Подтвердить"
|10|Система|Переводит пользователя на главную страницу сайта sbermarket.ru, в профиль пользователя. **Результат достигнут**|

## Сценарий 4. Вход в профиль пользователя по Сбер ID. Time-out ##

**Как**: пользователь сайта sbermarket.ru  
**Цель**: войти в личный кабинет сайта sbermarket.ru по Сбер ID  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации. Истекло время ожидания ввода кода (или не пришло смс)
|№|Участник|Действие|
|----|------|------|
|1|Пользователь|Нажимает на кнопку "отправить смс еще раз"|
|2|Система|Отправляет повторное смс c кодом на указанный номер телефона|
|3|Пользователь|Вводит код из смс, полученного на указанный номер телефона и нажимает кнопку "Продолжить"|
|4|Система|1. Если код введен верно - переводит пользователя на главную страницу сайта sbermarket.ru, в профиль пользователя. **Результат достигнут**|
|   |   |2. Если код введен не верно - предупреждает об ошибке и выделяет рамку поля ввода красным цветом
|5|Пользователь|***if 4.2*** - Вводит верный код, проверяя правильность ввода  
|6|Система|Переводит пользователя на главную страницу сайта sbermarket.ru, в профиль пользователя - **Результат достигнут**.|

## Сценарий 5. Переход к авторизации бизнес-аккаунта на сайте sbermarket.ru ##

**Как**: пользователь бизнесс-аккаунта сайта sbermarket.ru  
**Цель**: перейти к авторизации биснесс-аккаунта  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации  

Чтобы перейти к авторизации бизнесс-аккаунта:
|№|Участник|Действие|
|---|-----|-----|
|1|Пользователь|Ставит чек-бокс "Хочу заказывать для бизнеса" |
|2|Система|Отображает кнопку "Войти по СберБизнес ID"|
|3|Пользователь|Нажимает кнопку "Войти по СберБизнес ID"
|4|Система|Переводит пользователя на сайт sbi.sberbank.ru. для дальнейшей авторизации. **Результат достигнут** 

## Сценарий 6. Вход на сайт sbermarket.ru через VK ##

**Как**: пользователь сайта sbermarket.ru и социальной сети VK  
**Цель**: войти на сайт sbermarket.ru через соц.сеть VK  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации

Чтобы войти на сайт sbermarket.ru через соц.сеть VK:
|№|Участник|Действие|
|---|-----|-----|
|1|Пользователь|Нажимает значок VK |
|2|Система|Переводит пользователя на страницу авторизации id.VK.com|
|3|Пользователь|Выбирает способ входа: 1. через VK ID (свой профиль)
|  |  |2. войти в другой аккаунт
|4|Система|1. Переводит пользователя на страницу sbermarket.ru в профиль пользователя. **Результат достигнут**
|  | |2. ***if 3.2*** -  Переводит пользователя в окно авторизации другого аккаунта
|5|Пользователь|Вводит логин аккаунта (e-mail) и нажимает кнопку "Продолжить"
|6|Система|Переводит пользователя на страницу ввода пароля|
|7|Пользователь|Вводит пароль, привязанный к указанной эл.почте и нажимает кнопку "Продолжить"|
|8|Система|1. Если пароль введен верно - Переводит пользователя на страницу sbermarket.ru в профиль пользователя. **Результат достигнут**
| |    |2. Если пароль введен неверно - предупреждает и "просит" ввести верный пароль
|9|Пользователь|***if 8.2*** - Вводит верный пароль, проверяет правильность ввода и нажимает кнопку "Продолжить"|
|10|Система|Переводит пользователя на страницу sbermarket.ru в профиль пользователя. **Результат достигнут**

## Сценарий 7. Переход к странице ввода QR-кода для входа в sbermarket.ru через VK  ##

**Как**: пользователь сайта sbermarket.ru и социальной сети VK  
**Цель**: войти на сайт sbermarket.ru через соц.сеть VK  
**Дано**: пользователь находится на странице на страницу авторизации id.VK.com, открыто окно авторизации

Чтобы войти на сайт sbermarket.ru через соц.сеть VK из другого аккаунта по QR_коду:
|№|Участник|Действие|
|---|-----|-----|
|1|Пользователь|Выбирает способ входа "войти в  другой аккаунт"
|2|Система|Переводит пользователя на страницу авторизации входа VK ID.
|3|Пользователь|Нажимает кнопку QR-код|
|4|Система|Переводит пользователя на страницу входа по QR-коду. **Результат достигнут**

## Сценарий 8. Переход к авторизации на сайте sbermarket.ru через новый аккаунт VK ##

**Как**: пользователь сайта sbermarket.ru  
**Цель**: войти на сайт sbermarket.ru через соц.сеть VK  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации

Чтобы перейти к авторизации на сайте sbermarket.ru через новый аккаунт соц.сети VK:
|№|Участник|Действие|
|---|-----|-----|
|1|Пользователь|Нажимает значок VK |
|2|Система|Переводит пользователя на страницу авторизации id.VK.com|
|3|Пользователь|Выбирает опцию "Создать новый аккаунт"
|4|Система|Переводит пользователя на страницу регистрации нового аккаунта в VK ID. **Результат достигнут**

## Сценарий 9. Вход на сайт sbermarket.ru через e-mail ##

**Как**: пользователь сайта sbermarket.ru и владелец e-mail   
**Цель**: войти на сайт sbermarket.ru через свой e-mail  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации

Чтобы войти в профиль пользователя
 на сайт sbermarket.ru через e-mail:
|№|Участник|Действие|
|---|-----|-----|
|1|Пользователь|Нажимает значок @|
|2|Система|Переводит пользователя на страницу запроса доступа к данным владельца e-mail|
|3|Пользователь|Выбирает "Разрешить"
|4|Система|Переводит пользователя в окно выбора аккакунта|
|5|Пользователь|1. Выбирает свой аккаунт|
|  |  |2. Выбирает "Войти  другим пользователем"
|6|Система|1. ***if 5.1*** - Переводит пользователя на страницу запроса доступа к данным владельца e-mail 
|  |  |2. ***if 5.2*** - Переводит в окно ввода данных другого пользователя 
| 7 |Пользователь|1. ***if 6.1*** - Нажимает кнопку "Разрешить" |
|   |   |2. ***if 6.2*** - Вводит учетные данные другого пользователя | 
|8 |Система|1. ***if 7.1*** - Переводит пользователя на сайт sbermarket.ru в профиль пользователя. **Результат достигнут**|
|   |    |2. ***if 7.2*** - Переводит пользователя на страницу запроса доступа к данным владельца e-mail|
|9 |Пользователь|***if 8.2*** -  Нажимает кнопку "Разрешить"|
|10 |Система|Переводит пользователя на сайт sbermarket.ru в профиль пользователя. **Результат достигнут**|

## Сценарий 10. Получение выгодных предложений ##

**Как**: авторизованный пользователь сайта sbermarket.ru  
**Цель**: получать выгодные предложения магазина  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации, введен учетный номер телефона, получено смс с кодом для проверки  авторизации.

Чтобы получать выгодные предложения от магазина:
|№|Участник|Действие|
|---|-----|-----|
|1|Пользователь|Ставит чек-бокс "Получать выгодные предложения"|
|2|Система|Принимает выбор пользователя. Ничего не происходит|
|3|Пользователь|Вводит проверочный код из смс, проверяя правильность ввода|
|4|Система|Переводит пользователя на главную страницу магазина sbermarket.ru с доступом к выгодным предложениям.|
|5| Пользовтель|Будет получать от системы выгодные предложения. **Результат достигнут**

## Сценарий 11. Ознакомление с Правилами работы сервиса и обработкой персональных данных ##

**Как**: пользователь сайта sbermarket.ru  
**Цель**: ознакомиться с политикой обработки персональных данных, и с Правилами работы сервиса  
**Дано**: пользователь находится на странице сайта sbermarket.ru, открыто модальное окно авторизации, (поля ввода могут  быть заполнены, или не заполнены).

Чтобы ознакомиться с политикой обработки персональных данных, и с Правилами работы сервиса:
|№|Участник|Действие|
|---|-----|-----|
|1|Пользователь|Нажимает на выделенный текст "с обработкой персональных данных"|
|2|Система|Открывает текст "Согласие на обработку персональных данных"|
|3|Пользователь|Читает текст, ознакомляется. **Результат достигнут**
|4|Пользователь|Нажимает на ссылку в предложении "политикой обработки ПДн"|
|5|Система|Открывает страницу с документами .pdf для ознакомления|
|6|Пользователь|Читает текст документа, ознакомляется. **Результат достигнут**
|7|Пользователь|Нажимает на ссылку в предложении "правилами работы сервиса"|
|8|Система|Переводит пользователя на страницу sbermarket.ru с текстом "Правил работы сервиса"|
|9|Пользователь|Читает текст, ознакомляется. **Результат достигнут**
